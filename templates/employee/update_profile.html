{% extends 'base.html' %}

{% block content %}
<div class="min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8">
    <div class="sm:mx-auto sm:w-full sm:max-w-2xl">
        <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
            Update Your Profile
        </h2>
        <p class="mt-2 text-center text-sm text-gray-600">
            Keep your personal and contact information up to date.
        </p>
    </div>

    <div class="mt-8 sm:mx-auto sm:w-full sm:max-w-2xl">
        <div class="bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10">
            <form method="post" enctype="multipart/form-data" class="space-y-8">
                {% csrf_token %}

                <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2">
                    <div>
                        <label for="{{ form.first_name.id_for_label }}" class="block text-sm font-medium text-gray-700">First Name</label>
                        <div class="mt-1">
                            {{ form.first_name }}
                        </div>
                    </div>

                    <div>
                        <label for="{{ form.last_name.id_for_label }}" class="block text-sm font-medium text-gray-700">Last Name</label>
                        <div class="mt-1">
                            {{ form.last_name }}
                        </div>
                    </div>

                    <div class="sm:col-span-2">
                        <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700">Email Address</label>
                        <div class="mt-1">
                             {{ form.email }}
                        </div>
                    </div>

                    <div>
                        <label for="{{ form.date_of_birth.id_for_label }}" class="block text-sm font-medium text-gray-700">Date of Birth</label>
                        <div class="mt-1">
                            {{ form.date_of_birth }}
                        </div>
                    </div>

                    <div>
                        <label for="{{ form.gender.id_for_label }}" class="block text-sm font-medium text-gray-700">Gender</label>
                        <div class="mt-1">
                            {{ form.gender }}
                        </div>
                    </div>

                    <div class="sm:col-span-2">
                        <label for="{{ form.phone.id_for_label }}" class="block text-sm font-medium text-gray-700">Phone Number</label>
                        <div class="mt-1">
                            {{ form.phone }}
                        </div>
                    </div>

                    <div class="sm:col-span-2">
                        <label for="{{ form.address.id_for_label }}" class="block text-sm font-medium text-gray-700">Address</label>
                        <div class="mt-1">
                            {{ form.address }}
                        </div>
                    </div>

                    <div class="sm:col-span-2">
                        <label for="{{ form.photo.id_for_label }}" class="block text-sm font-medium text-gray-700">Profile Photo</label>
                        <div class="mt-2 flex items-center">
                            <span class="inline-block h-12 w-12 rounded-full overflow-hidden bg-gray-100">
                                {% if user.employee_user.photo and user.employee_user.photo.url %}
                                    <img class="h-full w-full object-cover" src="{{ user.employee_user.photo.url }}" alt="Current profile photo">
                                {% else %}
                                    <svg class="h-full w-full text-gray-300" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M24 20.993V24H0v-2.997A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z" />
                                    </svg>
                                {% endif %}
                            </span>
                            <div class="ml-5">
                                {{ form.photo }}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pt-5">
                    <div class="flex justify-end">
                        <a href="{% url 'payroll:profile' user.id %}" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Cancel
                        </a>
                        <button type="submit" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            Save Changes
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}